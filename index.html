
<!DOCTYPE html> 
<html> 
<head> 
    <title>Home Questionnaire<span id="selection-marker-1" class="redactor-selection-marker"></span></title> 
    <meta name="google-site-verification" content="fAZkGgXRd68WcEI1yJkKtuFB8XIzXDkejvsf9tAGcTE" />

<script>
  !function(){var analytics=window.analytics=window.analytics||[];if(!analytics.initialize)if(analytics.invoked)window.console&&console.error&&console.error("Segment snippet included twice.");else{analytics.invoked=!0;analytics.methods=["trackSubmit","trackClick","trackLink","trackForm","pageview","identify","reset","group","track","ready","alias","debug","page","once","off","on","addSourceMiddleware","addIntegrationMiddleware","setAnonymousId","addDestinationMiddleware"];analytics.factory=function(e){return function(){var t=Array.prototype.slice.call(arguments);t.unshift(e);analytics.push(t);return analytics}};for(var e=0;e<analytics.methods.length;e++){var key=analytics.methods[e];analytics[key]=analytics.factory(key)}analytics.load=function(key,e){var t=document.createElement("script");t.type="text/javascript";t.async=!0;t.src="https://cdn.segment.com/analytics.js/v1/" + key + "/analytics.min.js";var n=document.getElementsByTagName("script")[0];n.parentNode.insertBefore(t,n);analytics._loadOptions=e};analytics._writeKey="QcrbDHXn80pT2xaO7qduGkap9zAysimJ";;analytics.SNIPPET_VERSION="4.15.3";
  analytics.load("QcrbDHXn80pT2xaO7qduGkap9zAysimJ");
  analytics.page();
  }}();
    
  analytics.ready(function() {


  window.mixpanel.set_config({ verbose: true });
const destination: DestinationDefinition<Settings> = {
  name: 'HubSpot Cloud Mode (Actions)',
  slug: 'actions-hubspot-cloud',
  mode: 'cloud',

  authentication: {
    scheme: 'oauth2',
    fields: {},
    testAuthentication: (request) => {
      // HubSpot doesn't have a test authentication endpoint, so we using a lightweight CRM API to validate access token
      return request(`${HUBSPOT_BASE_URL}/crm/v3/objects/contacts?limit=1`)
    },
    refreshAccessToken: async (request, { auth }) => {
      // Return a request that refreshes the access_token if the API supports it
      const res = await request<RefreshTokenResponse>(`${HUBSPOT_BASE_URL}/oauth/v1/token`, {
        method: 'POST',
        body: new URLSearchParams({
          refresh_token: auth.refreshToken,
          client_id: auth.clientId,
          client_secret: auth.clientSecret,
          grant_type: 'refresh_token'
        })
      })

      return { accessToken: res.data?.access_token }
    }
  },
  extendRequest({ auth }) {
    return {
      headers: {
        authorization: `Bearer ${auth?.accessToken}`
      }
    }
  },

  actions: {
    sendCustomBehavioralEvent,
    upsertContact,
    upsertCompany,
    upsertCustomObjectRecord
  }
}

export default destination

});
    
    

</script>
    
   

</head> 
     <p> 
        <a id ="free-trial-link" href> Tracklink test<a/>
                </p>
    
   
                <script>
var link = document.getElementById('free-trial-link');
                    analytics.trackLink(link, 'Clicked free-trial-link',{
                        plan: 'Enterprise'
                    });
        </script>
<body> 
<h1>What is your favorite place to travel?</h1> 
<p>I am building a directory of the sweetest travel destinations.</p>  
<form name="travel" onsubmit="identify(event)">
     What is your favorite travel destination?
    <input name="destination" required="" size="81" type="text"/> 
    <br><br><br> 
    Any recommendations (cool things to do, places to visit or restaurants to eat)? 
    <br><br> 
    <textarea cols="81" name="details" required="" rows="10">
    </textarea> 
    <br><br> 
    Name: <input name="fullname" required="" size="75" type="text"/> 
    <br><br> 
    Email: <input name="email" required="" size="75" type="email"/> 
    <br><br>
   phone: <input name="phone" require= "" size="75" type="tel"/>
    <br><br>  
    <input name="submit" type="submit" value="submit"/>
</form> 
   

     <script type="text/javascript">
      function identify(e){
        e.preventDefault();
        var form = e.target;
        var email = form["email"].value;
        var fullname = form["fullname"].value;
        var phone = form["phone"].value;
        var destination = form["destination"].value;
        var details = form["details"].value;
        var user = {
            email: email, 
            name: fullname, 
            destination: destination, 
            details: details,
        phone : phone
        };
        analytics.identify('1234', {
            email: email, 
            name: fullname
        },
        {integrations:{
            "All": true,
            "Segment.io": true,
        "HubSpot" : true}
        
        });
           analytics.track('destination submitted', user, function() {
            window.location.href = "";
        });
          
          window.addMiddlewares = function () {
  window.analytics.addSourceMiddleware(smw8);
  //window.analytics.addSourceMiddleware(smw7);
  window.analytics.addSourceMiddleware(smw6);
  window.analytics.addSourceMiddleware(smw1);
  window.analytics.addSourceMiddleware(smw2);
  window.analytics.addSourceMiddleware(smw3);
  window.analytics.addSourceMiddleware(smw4);
  window.analytics.addSourceMiddleware(smw5);
};
      }
</script>

</body> 
</html>
